{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "AgentRequest": {
      "type": "object",
      "properties": {
        "input": {
          "type": "array",
          "description": "The input items to the agent, such as LLM messages.",
          "items": { "$ref": "#/definitions/AgentItem" }
        },
        "context": {
          "description": "The context to be used during tool calling and building system",
          "nullable": true
        }
      },
      "required": ["input", "context"]
    },
    "AgentResponse": {
      "type": "object",
      "properties": {
        "output": {
          "type": "array",
          "description": "The items generated during the agent's execution, such as new ToolMessage and AssistantMessage",
          "items": { "$ref": "#/definitions/AgentItem" }
        },
        "content": {
          "type": "array",
          "description": "The final output content generated by the agent.",
          "items": { "$ref": "file:///./sdk.json#/definitions/Part" }
        }
      },
      "required": ["output", "content"]
    },
    "AgentItem": {
      "description": "An input for or output entry generated by the agent run",
      "oneOf": [
        { "$ref": "#/definitions/AgentItemMessage" },
        { "$ref": "#/definitions/AgentItemModelResponse" },
        { "$ref": "#/definitions/AgentItemTool" }
      ]
    },
    "AgentItemMessage": {
      "description": "A LLM message used in the run",
      "allOf": [
        { "$ref": "file:///./sdk.json#/definitions/Message" },
        {
          "type": "object",
          "properties": {
            "type": { "const": "message" }
          },
          "required": ["type"]
        }
      ]
    },
    "AgentItemModelResponse": {
      "description": "A model response generated in the run",
      "allOf": [
        { "$ref": "file:///./sdk.json#/definitions/ModelResponse" },
        {
          "type": "object",
          "properties": {
            "type": { "const": "model" }
          },
          "required": ["type"]
        }
      ]
    },
    "AgentItemTool": {
      "type": "object",
      "description": "Tool call input and output generated during the run",
      "properties": {
        "type": { "const": "tool" },
        "tool_call_id": { "type": "string" },
        "tool_name": { "type": "string" },
        "input": {
          "type": "object"
        },
        "output": {
          "type": "array",
          "items": { "$ref": "file:///./sdk.json#/definitions/Part" }
        },
        "is_error": { "type": "boolean" }
      },
      "required": [
        "type",
        "tool_call_id",
        "tool_name",
        "input",
        "output",
        "is_error"
      ]
    },
    "AgentStreamEvent": {
      "description": "Stream events emitted by the agent during runStream call.",
      "oneOf": [
        { "$ref": "#/definitions/AgentStreamEventPartial" },
        { "$ref": "#/definitions/AgentStreamEventItem" },
        { "$ref": "#/definitions/AgentStreamEventResponse" }
      ]
    },
    "AgentStreamEventPartial": {
      "allOf": [
        { "$ref": "file:///./sdk.json#/definitions/PartialModelResponse" },
        {
          "type": "object",
          "properties": {
            "event": { "const": "partial" }
          },
          "required": ["event"]
        }
      ]
    },
    "AgentStreamEventItem": {
      "allOf": [
        { "$ref": "#/definitions/AgentItem" },
        {
          "type": "object",
          "properties": {
            "event": { "const": "item" }
          },
          "required": ["event"]
        }
      ]
    },
    "AgentStreamEventResponse": {
      "allOf": [
        { "$ref": "#/definitions/AgentResponse" },
        {
          "type": "object",
          "properties": {
            "event": { "const": "response" }
          },
          "required": ["event"]
        }
      ]
    }
  }
}
