---
title: Toolkits
---

import { Aside, Code, TabItem, Tabs } from "@astrojs/starlight/components";
import goToolkitsExample from "../../../../../agent-go/examples/toolkits/main.go?raw";
import jsToolkitsExample from "../../../../../agent-js/examples/toolkits.ts?raw";
import rustToolkitsExample from "../../../../../agent-rust/examples/toolkits.rs?raw";
import {
  extractGoAgentToolkitTypes,
  extractRustAgentToolkitTypes,
  extractTypescriptAgentToolkitTypes,
} from "../../../utils/extract-types.ts";

Toolkits let an agent assemble dynamic instructions and tools for each run session. Unlike static instructions or tool lists, a toolkit can perform asynchronous work inside `Toolkit.create_session`--for example, fetching account data--before handing the agent loop a synchronous `ToolkitSession` snapshot of instructions and tools to use for that run.

That session can keep its own mutable state: reuse it across multiple calls to `RunSession.run`, swap prompts or tools as the workflow advances, and close resources (database handles, network clients, etc.) when the [`RunSession`](../agent-vs-run-session#run-session) ends.

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={extractTypescriptAgentToolkitTypes(["Toolkit", "ToolkitSession"])}
      lang="typescript"
      title="toolkit.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code
      code={extractRustAgentToolkitTypes(["Toolkit", "ToolkitSession"])}
      lang="rust"
      title="toolkit.rs"
    />
  </TabItem>
  <TabItem label="Go">
    <Code
      code={extractGoAgentToolkitTypes(["Toolkit", "ToolkitSession"])}
      lang="go"
      title="toolkit.go"
    />
  </TabItem>
</Tabs>

<Aside type="note">
  One good way to think about this is that `Toolkit` is to `ToolkitSession` is similar to `Agent` is to `RunSession`.
</Aside>

## Example

The example below follows an interdimensional Lost & Found desk. `create_session` loads the
traveler's manifest asynchronously, while the toolkit session tracks phases (intake → recovery →
handoff) to unlock or retire tools as the conversation progresses. The driver code reuses the same
`RunSession`, so you can see toolkit state mutate and the dynamic tool list update turn by turn.

![toolkits example](../../../../assets/examples/toolkits.gif)

<Tabs>
  <TabItem label="TypeScript">
    <Code code={jsToolkitsExample} lang="typescript" title="examples/toolkit.ts" />
  </TabItem>
  <TabItem label="Rust">
    <Code code={rustToolkitsExample} lang="rust" title="examples/toolkit.rs" />
  </TabItem>
  <TabItem label="Go">
    <Code code={goToolkitsExample} lang="go" title="examples/toolkit/main.go" />
  </TabItem>
</Tabs>
