---
title: Function calling
---

import { Code, TabItem, Tabs } from "@astrojs/starlight/components";
import goToolUseCode from "../../../../../sdk-go/examples/tool-use/main.go?raw";
import jsToolUseCode from "../../../../../sdk-js/examples/tool-use.ts?raw";
import rustToolUseCode from "../../../../../sdk-rust/examples/tool-use.rs?raw";
import {
  extractGoTypes,
  extractRustTypes,
  extractTypescriptTypes,
} from "../../../utils/extract-types.ts";

Functions can be provided to the model as `Tool`:

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={extractTypescriptTypes(["Tool"])}
      lang="typescript"
      title="types.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code
      code={extractRustTypes(["Tool"])}
      lang="rust"
      title="types.rs"
    />
  </TabItem>
  <TabItem label="Go">
    <Code
      code={extractGoTypes(["Tool"])}
      lang="go"
      title="types.go"
    />
  </TabItem>
</Tabs>

The model might returns one or many `ToolCallPart`s in its response to indicate that it wants to call a function:

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={extractTypescriptTypes(["ToolCallPart"])}
      lang="typescript"
      title="types.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code
      code={extractRustTypes(["ToolCallPart"])}
      lang="rust"
      title="types.rs"
    />
  </TabItem>
  <TabItem label="Go">
    <Code
      code={extractGoTypes(["ToolCallPart"])}
      lang="go"
      title="types.go"
    />
  </TabItem>
</Tabs>

Execute the tools in your application and return the results to the model as a single `ToolMessage`, which contain one or many `ToolResultPart`s in its `content` field:

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={extractTypescriptTypes(["ToolMessage", "ToolResultPart"])}
      lang="typescript"
      title="types.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code
      code={extractRustTypes(["ToolMessage", "ToolResultPart"])}
      lang="rust"
      title="types.rs"
    />
  </TabItem>
  <TabItem label="Go">
    <Code
      code={extractGoTypes(["ToolMessage", "ToolResultPart"])}
      lang="go"
      title="types.go"
    />
  </TabItem>
</Tabs>

## Function tool example

Below is an example to receive tool calls from the model and return tool results back to the model.
For complex setup, it is recommended to use the [Agent library](/agent).

<Tabs>
  <TabItem label="TypeScript">
    <Code code={jsToolUseCode} lang="typescript" title="tool-use.ts" />
  </TabItem>
  <TabItem label="Rust">
    <Code code={rustToolUseCode} lang="rust" title="tool-use.rs" />
  </TabItem>
  <TabItem label="Go">
    <Code code={goToolUseCode} lang="go" title="main.go" />
  </TabItem>
</Tabs>
