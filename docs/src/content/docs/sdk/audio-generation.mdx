---
title: Audio generation
---

import { Tabs, TabItem, Code } from "@astrojs/starlight/components";
import jsGenerateAudioCode from "../../../../../sdk-js/examples/generate-audio.ts?raw";
import goGenerateAudioCode from "../../../../../sdk-go/examples/generate-audio/main.go?raw";
import rustGenerateAudioCode from "../../../../../sdk-rust/examples/generate-audio.rs?raw";
import jsStreamAudioCode from "../../../../../sdk-js/examples/stream-audio.ts?raw";
import goStreamAudioCode from "../../../../../sdk-go/examples/stream-audio/main.go?raw";
import rustStreamAudioCode from "../../../../../sdk-rust/examples/stream-audio.rs?raw";
import {
  extractGoTypes,
  extractTypescriptTypes,
  extractRustTypes,
} from "../../../utils/extract-types.ts";

Audio modality is represented as `AudioPart`s.

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={extractTypescriptTypes(["AudioPart", "AudioFormat"])}
      lang="typescript"
      title="types.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code
      code={extractRustTypes(["AudioPart", "AudioFormat"])}
      lang="rust"
      title="types.rs"
    />
  </TabItem>
  <TabItem label="Go">
    <Code
      code={extractGoTypes(["AudioPart", "AudioFormat"])}
      lang="go"
      title="types.go"
    />
  </TabItem>
</Tabs>

To ensure the audio can be played correctly, the application code must consider the provided audio `format`, `sample_rate`, and `channels`.

## Generate audio

Supported models are capable of generating audio. To generate audio, specify `audio` in the input `modalities`.
Depending on the provider, you may have to pass additional parameters to their API, which can be done through the `extra` field.

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={jsGenerateAudioCode}
      lang="typescript"
      title="generate-audio.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code code={rustGenerateAudioCode} lang="rust" title="generate-audio.rs" />
  </TabItem>
  <TabItem label="Go">
    <Code code={goGenerateAudioCode} lang="go" title="main.go" />
  </TabItem>
</Tabs>

## Stream audio

Audio generation can also be streamed using the `stream()` method. In streamed responses, `AudioPart` will be represented as `AudioPartDelta`:

<Tabs>
  <TabItem label="TypeScript">
    <Code
      code={extractTypescriptTypes(["AudioPartDelta", "AudioFormat"])}
      lang="typescript"
      title="types.ts"
    />
  </TabItem>
  <TabItem label="Rust">
    <Code
      code={extractRustTypes(["AudioPartDelta", "AudioFormat"])}
      lang="rust"
      title="types.rs"
    />
  </TabItem>
  <TabItem label="Go">
    <Code
      code={extractGoTypes(["AudioPartDelta", "AudioFormat"])}
      lang="go"
      title="types.go"
    />
  </TabItem>
</Tabs>

Individual `audio_data` chunks can be played back as they are received. They can be combined to create the final audio output.

<Tabs>
  <TabItem label="TypeScript">
    <Code code={jsStreamAudioCode} lang="typescript" title="stream-audio.ts" />
  </TabItem>
  <TabItem label="Rust">
    <Code code={rustStreamAudioCode} lang="rust" title="stream-audio.rs" />
  </TabItem>
  <TabItem label="Go">
    <Code code={goStreamAudioCode} lang="go" title="main.go" />
  </TabItem>
</Tabs>
